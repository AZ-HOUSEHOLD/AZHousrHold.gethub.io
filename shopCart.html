<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="external.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>AZHouseHold</title>
    <script>
        function displayShoppingCart() {
    var tableBody = document.getElementById("shoppingCartTableBody");

    if (tableBody) {
        tableBody.innerHTML = ""; // Clear existing rows

        if (shoppingCartArray.length === 0) {
            // Display a message when the cart is empty
            var emptyRow = tableBody.insertRow();
            var cell = emptyRow.insertCell(0);
            cell.colSpan = 4; // Adjust the colspan based on the number of columns in your table
            cell.innerHTML = "<h3>Your cart is empty</h3><p>Looks like you haven't added anything to your cart. Go ahead and explore top categories.</p>";
        } else {
            // Display each product in the cart
            shoppingCartArray.forEach(function(product) {
                var row = tableBody.insertRow();

                // Product Image
                row.insertCell(0).innerHTML = `<img src="${product.image}" alt="${product.name}" class="img">`;

                // Product Name
                row.insertCell(1).innerHTML = `<h2>${product.name}</h2>`;

                // Product Description
                row.insertCell(2).innerText = product.description;

                // Product Price
                row.insertCell(3).innerText = `${product.price.toFixed(2)} OMR`;

                // Remove Button
                var cell = row.insertCell(4);
                cell.innerHTML = `<button onclick="removeFromCart(${product.id})" class="btn btn-danger">Remove</button>`;
            });displayTotalPrice();
        }
    } else {
        console.error("Element with ID 'shoppingCartTableBody' not found.");
    }
}
function displayTotalPrice() {
    var totalPriceContainer = document.getElementById("totalPrice");
    
    if (totalPriceContainer) {
        var totalPrice = shoppingCartArray.reduce((total, product) => total + product.price, 0);
        totalPriceContainer.innerText = "Total Price: " + totalPrice.toFixed(2) + " OMR";
    } else {
        console.error("Element with ID 'totalPrice' not found.");
    }
}

window.onload = function() {
    loadShoppingCartFromLocalStorage();
    displayShoppingCart();
};
    </script>
    <style>
        table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

/* Style for product images */
.img {
    max-width: 60px;
    max-height: 60px;
}

/* Style for the remove button */
.btn-danger {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 8px 12px;
    cursor: pointer;
}

.btn-danger:hover {
    background-color: #c82333;
}

/* Style for the empty cart message */
h3, p {
    text-align: center;
    color: #777;
}

/* Responsive styles for small screens */
@media (max-width: 768px) {
    th, td {
        padding: 8px;
    }

    .img {
        max-width: 40px;
        max-height: 40px;
    }
}
        P{
            text-align: center;
        }
        h3{
            text-align: center;
        }
        #a{
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
        .checkout-button {
    display: block;
    margin: auto;
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.checkout-button:hover {
    background-color: #45a049;
}
    </style>

</head>
<body>
    <header>
        <div class="container">
            <div class="header-logo">
                <a href="index.html"><img src="logo.png" alt="Store Logo"></a> 
            </div>
            <ul class="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="Departments.html">Departments</a></li>
                <li><a href="deals.html">Deals</a></li>
                <li><a href="about_us.html">About us</a></li>
                <li><a href="contact_us.html">Contact us</a></li>
                <li><a href="log_in.html" class="login">Log in</a></li>
                <li><a href="shopCart.html" class="shopping-bag"><span>Shopping bag</span> <img src="bag (2).png" width="30px" height="25px"></a></li>
            </ul>
        </div>
    </header>

    <br/>
    <main>
        <h2 style="text-align: center;">Your Shopping Cart</h2>
        <table >
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Description</th>
                    <th>Price (OMR)</th>
                </tr>
            </thead>
            <tbody id="shoppingCartTableBody" ></tbody>

        </table>
        <div id="totalSection">
            <p>Total Price: <span id="totalPrice">0.00</span> OMR</p>
           

        </div>
        <button id="checkoutButton" onclick="goToCheckout()" class="checkout-button">Proceed to Checkout</button>
    </main>
    <br><br><br><br><br><br><br><br><br><br><br>
    <script src="obgProduct.js"></script>
    <footer>
        <div class="container footer-content">
            <section>
                <h2 class="footer-heading">About Us</h2>
                <p>We're a new household items store to the field, dedicated to improving your home experience.
                    we are not the only but we are the best.
                </p>
            </section>
            <section>
                <h2 class="footer-heading">Contact us</h2>
                <p>Emails: s133720@student.squ.edu.om<br>
                    s137205@student.squ.edu.om<br>
                    s138615@student.squ.edu.om</p>
            </section>
        </div>
    </footer>

</body>
</html>